; = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =
; =     configuration file for opsiconfd                                =
; = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = = =


; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
; -     global settings                                                 -
; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[global]
	
	# Location of the backendManager config file/dir.
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   bm config = /etc/opsi/backendManager.d
	
	bm config = /etc/opsi/backendManager.d
	
	# Location of the pid file.
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   pid file = /var/run/opsiconfd/opsiconfd.pid
	
	pid file = /var/run/opsiconfd/opsiconfd.pid
	
	# Location of the log file.
	# The macro %m can be used to create use a separate log file for
	# each client. %m will be replaced by <client-ip>
	# Leave empty to use syslog.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   log file =
	
	log file = /var/log/opsi/opsiconfd/%m.log
	
	# If separate log files are used and this option is enabled 
	# opsiconfd will create a symlink in the log dir which points 
	# to the clients log file. The name of the symlink will be the same
	# as the log files but %m will be replaced by <client-fqdn>.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   symlink logs = yes
	
	symlink logs = yes
		
	# Set the log (verbosity) level
	# (0 <= log level <= 6)
	# 0: nothing, 1: critical, 2: errors, 3: warnings, 4: notices
	# 5: infos, 6: debug messages, 7: more debug messages, 9: passwords
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   log level = 2
	
	log level = 4
	
	# Set the log format
	# Macros:
	# %D: current time
	# %T: thread id
	# %l: log level (0..6)
	# %L: log level (name)
	# %M: the message
	# %F: filename
	# %N: linenumber
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   log format = [%l] [%D] %M (%F|%N)
	
	log format = [%l] [%D] %M (%F|%N)
	
	# Maximum number of execution statistics to store in memory.
	# Execution statistics can be written to the log file by sending
	# a SIGHUP to opsiconfd.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   max execution statistics = 250
	
	max execution statistics = 250
	

; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
; -     service settings                                                -
; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[service]

	# The network interfaces to bind to.
	# This must be the IP address of an network interface.
	# Use 0.0.0.0 to listen to all interfaces
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   interface = 0.0.0.0
	
	interface = 0.0.0.0
	
	# The port where opsiconfd will listen for HTTP requests.
	# Use 0 to disable HTTP protocol
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   http port = 0
	
	http port = 0
	
	# The port where opsiconfd will listen for HTTPS requests.
	# Use 0 to disable HTTPS protocol
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   https port = 4447
	
	https port = 4447
	
	# The location of the server certificate.
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   ssl server cert = /etc/opsi/opsiconfd.pem
	
	ssl server cert = /etc/opsi/opsiconfd.pem
	
	# The location of the server private key
	# Opsiconfd needs to be restarted for changes to take effect.
	#
	# Default:
	#   ssl server key = /etc/opsi/opsiconfd.pem
	
	ssl server key = /etc/opsi/opsiconfd.pem


; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
; -     session settings                                                -
; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[session]
	
	# Session name used in the session cookie.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   session name = OPSISID
	
	session name = OPSISID
	
	# If a client connects to the service, opsiconfd will try to resolve
	# the ip address to a fqdn by a system call if this option is set.
	# The resolved fqdn will be stored in the session. If a client asks
	# for its id by calling getHostId() the hostname stored in the session
	# will be returned.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   resolve ip = yes
	
	resolve ip = no
	
	# If a client uses its fqdn and opsi-host-key for authentication, 
	# opsiconfd will try to resolve the fqdn (username) by a system call.
	# If there is no result or the resulting IP address does not match
	# the client's address, the access will be denied.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   verify ip = no
	
	verify ip = no
	
	# The interval in seconds after an inactive session expires.
	# Opsiconfd needs to be reloaded (SIGHUP) for changes to take effect.
	#
	# Default:
	#   max inactive interval = 120
	
	max inactive interval = 120

; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
; -     static directories                                              -
; - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
[directories]
	
	# Every option value pair (<resourcename> = <path>) has to consist
	# of a resourcename and a path to a local directory.
	# The URL http(s)://<server>:<port>/<resourcename> will give 
	# access to the content of <path>.
	# Opsiconfd needs to be restarted for changes to take effect.
	
	/ = /usr/share/opsiconfd/static
	configed = /usr/lib/configed
	opsi-depot = /opt/pcbin/install


